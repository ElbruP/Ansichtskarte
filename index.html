<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weihnachtswünsche</title>
    <link rel="stylesheet" href="snowflake.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900&family=Palanquin+Dark:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Mountains+of+Christmas:wght@400;700&family=Oleo+Script+Swash+Caps:wght@400;700&family=Palanquin+Dark:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: "Lato", sans-serif;
            text-align: center;
            color: #ffffff;
            background: url('gfdgfd.png') no-repeat center center fixed;
            background-size: cover;
            overflow: hidden;
        }

        h1 {
            font-family: "Oleo Script Swash Caps", serif;
            margin-top: 20px;
            font-size: 3.5rem;
            color: #ffffff;
        }

        p {
            font-size: 1rem;
            margin-bottom: 20px;
        }

        button {
    background-color: #e63946;
    color: #ffffff;
    border: none;
    border-radius: 20px;
    padding: 15px 30px;
    font-size: 1.2rem;
    font-weight: bold; 
    cursor: pointer;
    transition: background-color 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}


        button:hover {
            background-color: #d62839;
        }

        #wish {
            font-size: 1.2rem;
            margin-top: 20px;
        }

        .snowflake {
            position: absolute;
            top: -10%;
            color: #fff;
            font-size: 2em;
            font-family: Arial, sans-serif;
            user-select: none;
            opacity: 0.8;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% {
                transform: translateX(0) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateX(100px) rotate(360deg);
                opacity: 0.5;
                top: 100%;
            }
        }

        .pretzel {
           display: none;
        }


@media (max-width: 768px) {
    .pretzel {
        display: block;
    }
}

        /* ---  адаптація--- */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
                margin-top: 10px;
            }

            p {
                font-size: 0.9rem;
            }

            button {
                padding: 8px 16px;
                font-size: 0.9rem;
            }

            #wish {
                font-size: 1rem;
            }
        }

            @media (max-width: 768px) {
    .pretzel {
        display: block;
        position: absolute;
        width: 80px; 
        top: 43px; 
        right: 7px; 
    }
}


       /* --- iPhone 7  iPhone 8  375px,  667px --- */
@media (max-width: 375px) and (min-device-height: 667px) and (-webkit-device-pixel-ratio: 2) {
    h1 {
        font-size: 2rem;
    }

    p {
        font-size: 0.85rem;
    }

    button {
        padding: 6px 12px;
        font-size: 0.85rem;
    }

    .pretzel {
        width: 70px;
        top: 40px;
        right: 10px;
    }

    #wish {
        font-size: 0.95rem;
    }
}

/* --- iPhone X, 11, 12  375px, 812px --- */
@media (max-width: 375px) and (min-device-height: 812px) and (-webkit-device-pixel-ratio: 3) {
    h1 {
        font-size: 2.2rem;
    }

    p {
        font-size: 0.9rem;
    }

    button {
        padding: 8px 14px;
        font-size: 0.9rem;
    }

    .pretzel {
        width: 90px;
        top: 35px;
        right: 8px;
    }

    #wish {
        font-size: 1rem;
    }
}

/* --- iPhone 12 Pro Max  428px,926px --- */
@media (max-width: 428px) and (min-device-height: 926px) and (-webkit-device-pixel-ratio: 3) {
    h1 {
        font-size: 2.5rem;
        margin-top: 12px;
    }

    p {
        font-size: 0.95rem;
    }

    button {
        padding: 10px 18px;
        font-size: 1rem;
    }

    .pretzel {
        width: 100px;
        top: 30px;
        right: 10px;
    }

    #wish {
        font-size: 1.1rem;
    }
}

/* --- iPhone 14 Pro Max  430px,  932px --- */
@media (max-width: 430px) and (min-device-height: 932px) and (-webkit-device-pixel-ratio: 3) {
    h1 {
        font-size: 2.8rem;
        margin-top: 15px;
    }

    p {
        font-size: 1rem;
    }

    button {
        padding: 12px 20px;
        font-size: 1rem;
    }

    .pretzel {
        width: 110px;
        top: 32px;
        right: 15px;
    }

    #wish {
        font-size: 1.2rem;
    }
}

        /* --- iPhone 16 Pro Max --- */
        @media (max-width: 430px) and (min-device-height: 932px) and (-webkit-device-pixel-ratio: 3) {
            h1 {
                font-size: 2.8rem;
                margin-top: 15px;
            }

            p {
                font-size: 1rem;
            }

            button {
                padding: 10px 18px;
                font-size: 1rem;
            }

            .pretzel {
                width: 110px;
                top: 32px;
                right: 14px;
            }

            #wish {
                font-size: 1.1rem;
            }
        }

        
    </style>
</head>

<body>
<!-- Preloader -->
<div id="preloader">
    <div class="preloader-snowflake">❄</div>
    <p class="preloader-text">Frohe Weihnachten...</p>
</div>

 <div class="haupt_teil">
    <h1>Weihnachtswünsche für Viki</h1>
    <p>Натисни на кнопку, щоб отримати побажання!</p>
    <button onclick="generateWish()">Отримати бажання!</button>
    <p id="wish">...</p>
</div>

<img src="Screenshow.png" alt="Pretzel" class="pretzel">

<div class="overlay" id="overlay" onclick="closePhoto()"></div>
<img src="" alt="Photo" class="photo-modal" id="photoModal">
<div id="finalMessage" class="final-message" style="display: none;">
    Danke, dass es<br>dich gibt
</div>

<button class="photo-nav prev" id="prevPhoto" onclick="changePhoto(-1)">❮</button>
<button class="photo-nav next" id="nextPhoto" onclick="changePhoto(1)">❯</button>

<script>
    const snowflakeSymbols = ['❄', '❅', '❆'];

    function createSnowflakes() {
        const snowflakeCount = 2;

        for (let i = 0; i < snowflakeCount; i++) {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.textContent = snowflakeSymbols[Math.floor(Math.random() * snowflakeSymbols.length)];

            const leftPosition = Math.random() * 80;
            snowflake.style.left = `${leftPosition}vw`;

            const duration = Math.random() * 3 + 2;
            snowflake.style.animationDuration = `${duration}s`;

            document.body.appendChild(snowflake);
        }
    }

    createSnowflakes();
    setInterval(createSnowflakes, 17000);

    const wishes = [
        "Liebe Vika, möge dein Herz zu Weihnachten mit Wärme, Liebe und Freude erfüllt sein!",
        "Frohe Weihnachten! Möge dein Leben immer voller Glück und magischer Momente sein.",
        "Weihnachten wäre ohne deine strahlende Energie und dein Lächeln nicht komplett. Danke, dass du immer da bist.",
        "Ich wünsche dir leuchtende Lichter, süße Überraschungen und unvergessliche Erinnerungen an diesem Weihnachten.",
        "Frohe Weihnachten, Möge das kommende Jahr dir nur das Beste bringen, denn du verdienst es!",
        "Zu Weihnachten wünsche ich dir endlosen Glanz, magische Nächte und ein Lächeln, das nie vergeht.",
        "Liebe Vika, möge jede Schneeflocke dir ein kleines Stückchen Glück und Liebe bringen!",
        "Danke, dass du diese Welt mit deinem Lachen und deiner Herzlichkeit bereicherst."
    ];

    let currentWishIndex = 0;

    function generateWish() {
        const wishElement = document.getElementById('wish');

        wishElement.style.opacity = 0;

        setTimeout(() => {
            if (currentWishIndex < wishes.length) {
                wishElement.textContent = wishes[currentWishIndex];
                currentWishIndex++;
            } else {
                showPhotoMenu();
            }

            wishElement.style.opacity = 1;
        }, 500);
    }

    const photos = [
        "5346042361832140409.jpg",
        "5346042361832140411.jpg",
        "5346042361832140410 (1).jpg",
        "5346042361832140412.jpg",
        "5346042361832140475.jpg",
        "5346042361832140413.jpg",
        "5346042361832140553.jpg",
        "5348294161645823889.jpg",
        "5355280518658255184.jpg",
        "5341510634463944786.jpg"
    ];

    let currentPhotoIndex = 0;

    // Предзагрузка всех изображений
        const preloadedImages = photos.map((src) => {
            const img = new Image();
            img.src = src;
            return img;
        });

        function changePhoto(direction) {
            const photoModal = document.getElementById('photoModal');
            const finalMessage = document.getElementById('finalMessage');

            // Убираем видимость текущей фотографии с плавным затуханием
            photoModal.style.transition = 'opacity 0.5s ease';
            photoModal.style.opacity = 0;

            setTimeout(() => {
                // Обновляем индекс изображения
                currentPhotoIndex = (currentPhotoIndex + direction + photos.length) % photos.length;

                if (currentPhotoIndex === 0 && direction === 1) {
                    // Если мы находимся в конце списка и идём вперёд — показываем финальное сообщение
                    displayFinalMessage();
                } else {
                    // Устанавливаем новое изображение из предзагруженного массива
                    photoModal.src = preloadedImages[currentPhotoIndex].src;

                    // Плавно показываем новое изображение
                    photoModal.style.opacity = 1;
                }
            }, 500); // Длительность совпадает с CSS transition
        }


    function showPhotoMenu() {
            const overlay = document.getElementById('overlay');
            const photoModal = document.getElementById('photoModal');

            overlay.style.display = 'block';
            photoModal.src = preloadedImages[currentPhotoIndex].src; // Используем предзагруженное изображение
            photoModal.style.display = 'block';

            document.getElementById('prevPhoto').style.display = 'block';
            document.getElementById('nextPhoto').style.display = 'block';

            setTimeout(() => {
                photoModal.classList.add('visible');
                photoModal.style.opacity = 1; // Плавное появление первого изображения
            }, 50);
        }


    function closePhoto() {
        const overlay = document.getElementById('overlay');
        const photoModal = document.getElementById('photoModal');

        overlay.style.display = 'none';
        photoModal.classList.remove('visible');
        setTimeout(() => {
            photoModal.style.display = 'none';
        }, 500);
        document.getElementById('prevPhoto').style.display = 'none';
        document.getElementById('nextPhoto').style.display = 'none';
    }

    function changePhoto(direction) {
            const photoModal = document.getElementById('photoModal');
            const finalMessage = document.getElementById('finalMessage');

            photoModal.style.transition = 'opacity 0.5s ease';
            photoModal.style.opacity = 0;

            setTimeout(() => {
                currentPhotoIndex = (currentPhotoIndex + direction + photos.length) % photos.length;

                if (currentPhotoIndex === 0 && direction === 1) {
                    displayFinalMessage();
                } else {
                   
                    photoModal.src = photos[currentPhotoIndex];
                    photoModal.style.opacity = 1; 
                }
            }, 500); 
        }


    function displayFinalMessage() {
            const finalMessage = document.getElementById('finalMessage');
            const overlay = document.getElementById('overlay');
            const prevPhoto = document.getElementById('prevPhoto');
            const nextPhoto = document.getElementById('nextPhoto');

            document.getElementById('photoModal').style.display = 'none';
            prevPhoto.style.display = 'none';
            nextPhoto.style.display = 'none';

        finalMessage.innerHTML = "Danke, dass es dich gibt";

            finalMessage.style.display = 'block';
            finalMessage.style.opacity = 0;
            finalMessage.style.transition = 'opacity 2s ease';

            setTimeout(() => {
                finalMessage.style.opacity = 1;

                // 5 seconds
                setTimeout(() => {
                    finalMessage.style.opacity = 0;

                    setTimeout(() => {
                        overlay.style.display = 'none';
                        finalMessage.style.display = 'none';
                    }, 2000);
                }, 5000);
            }, 50);
        }



    
</script>

<style>
    .final-message {
    font-family: "Oleo Script Swash Caps", serif;
    position: fixed; 
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 3rem;
    font-weight: bold;
    color: white;
    text-align: center;
    padding: 20px 40px;
    border-radius: 10px;
    z-index: 9999;
    line-height: 1.2; 
    white-space: normal; 
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 90%; 
}

/* iPhone 16 Pro Max, 15 Pro Max и устройства шириной около 430px */
@media (max-width: 430px) {
    .final-message {
        font-size: 2.4rem; /* Уменьшение шрифта */
        line-height: 1.4;  /* Оптимальный интервал */
        max-width: 85%;    /* Ограничение ширины контейнера */
    }
}

/* iPhone 14 Pro, 13 Pro и устройства шириной около 390px */
@media (max-width: 393px) {
    .final-message {
        font-size: 2.3rem; 
        line-height: 1.3;  
        max-width: 85%;    
    }
}

/* iPhone 12 Mini, SE (2020) и устройства шириной около 375px */
@media (max-width: 375px) {
    .final-message {
        font-size: 2.2rem;
        line-height: 1.3;
        max-width: 80%; 
    }
}

/* iPhone SE (2016) и устройства шириной около 320px */
@media (max-width: 320px) {
    .final-message {
        font-size: 1.9rem;
        line-height: 1.2;
        max-width: 75%; 
    }
}

    @media (max-width: 414px) and (min-device-height: 896px) {
        .final-message {
            font-size: 2.8rem;
            line-height: 1.3;
            max-width: 85%;
        }
    }

    @media (max-width: 375px) and (min-device-height: 667px) {
        .final-message {
            font-size: 2.3rem;
            line-height: 1.2;
            max-width: 80%;
        }
    }


</style>
 
   
 
    <script>
        window.onload = function () {
                setTimeout(() => {  
                    const preloader = document.getElementById('preloader');
                    preloader.style.transition = 'opacity 1s ease';
                    preloader.style.opacity = '0';
                    setTimeout(() => {
                        preloader.style.display = 'none';
                    }, 1000); 
                }, 2000); 
            };
    </script>
</body>

</html>
